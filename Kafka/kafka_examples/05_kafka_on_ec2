
## single Kafka node on ec2 instance

## Steps :

Launch one EC2 Instance

```bash
install kafkaâ€“ wget https://dlcdn.apache.org/kafka/3.2.0/kafka_2.12-3.2.0.tgz tar -xvf kafka_2.12-3.2.0.tgz
# To install Java â€“
java -version
sudo yum install java-1.8.0-openjdk java -version cd kafka_2.12-3.2.0
```

```bash
#Start Zoo-keeper
bin/zookeeper-server-start.sh config/zookeeper.properties

# Start Kafka-server
#Duplicate the session & enter in a new console â€“
export KAFKA_HEAP_OPTS="-Xmx256M -Xms128M"
cd kafka_2.12-3.2.0
bin/kafka-server-start.sh config/server.properties
```

<aside>
ðŸ“Œ It is pointing to private server , change **server.properties** so that it can run in **public IP**

To do this , you can follow any of the 2 approaches shared below
 1)Do a vi config/server.properties in insert mode â€“ change ADVERTISED_LISTENERS to  public ip of the EC2 instance
 2)You can modify the file using WinSCP also

</aside>

```bash
# Create the topic
# Duplicate the session & enter in a new console 
cd kafka_2.12-3.2.0 
bin/kafka-topics.sh â€“create â€“topic demo_testing2 â€“bootstrap-server {**Put the Public IP of your EC2 Instance:9092**} â€“replication-factor 1 â€“partitions 1
# Start Producer
bin/kafka-console-producer.sh â€“topic demo_testing2 â€“bootstrap-server {Put the Public IP of your EC2 Instance:9092}
# Start Consumer
Duplicate the session & enter in a new console â€“ cd kafka_2.12-3.2.0 bin/kafka-console-consumer.sh â€“topic demo_testing2 â€“bootstrap-server {Put the Public IP of your EC2 Instance:9092}
```